CREATE SCHEMA bienczak;
use bienczak;

CREATE TABLE vehiculos (
    id_vehiculo INT PRIMARY KEY,
    tipo VARCHAR(50),
    modelo VARCHAR(100),
    patente VARCHAR(20),
    capacidad_de_carga DECIMAL(10, 2),
    kilometros INT
);

CREATE TABLE camioneros (
    id_camionero INT PRIMARY KEY,
    nombre VARCHAR(255),
    telefono VARCHAR(15),
    direccion VARCHAR(255),
    id_vehiculo INT,
    FOREIGN KEY (id_vehiculo) REFERENCES vehiculos(id_vehiculo)
);

CREATE TABLE ciudad (
    id_ciudad INT PRIMARY KEY,
    nombre VARCHAR(255),
    pais VARCHAR(100),
    distancia_desde_cordoba DECIMAL(10, 2)
);

CREATE TABLE cliente (
    id_cliente INT PRIMARY KEY,
    tipo_de_pago VARCHAR(50),
    nombre VARCHAR(255),
    provincia VARCHAR(100)
);

CREATE TABLE pedido (
    id_pedido INT PRIMARY KEY,
    id_ciudad INT,
    id_camionero INT,
    descripcion TEXT,
    provincia VARCHAR(100),
    FOREIGN KEY FK_pedido_ciudad (id_ciudad) REFERENCES ciudad(id_ciudad),
    FOREIGN KEY FK_pedido_camionero (id_camionero) REFERENCES camioneros(id_camionero)
);

ALTER TABLE cliente
ADD COLUMN usuario VARCHAR(50),
ADD COLUMN fecha DATE,
ADD COLUMN hora TIME;

ALTER TABLE pedido
ADD COLUMN usuario VARCHAR(50),
ADD COLUMN fecha DATE,
ADD COLUMN hora TIME;

ALTER TABLE pedido
ADD COLUMN estado VARCHAR(20);

ALTER TABLE cliente
DROP COLUMN provincia;

ALTER TABLE cliente
ADD COLUMN id_ciudad INT,
ADD FOREIGN KEY (id_ciudad) REFERENCES ciudad(id_ciudad);
